# AJVIPLaunchScreen ä½¿ç”¨æŒ‡å—

## ğŸ“± å®Œæ•´ä½¿ç”¨æ¡ˆä¾‹

### æ¡ˆä¾‹ 1: åŸºç¡€é›†æˆ - Balloon é£æ ¼

è¿™æ˜¯æœ€ç®€å•çš„é›†æˆæ–¹å¼ï¼Œé€‚åˆå¿«é€Ÿä¸Šæ‰‹ã€‚

```swift
import UIKit
import AJVIPLaunchScreen

class SceneDelegate: UIResponder, UIWindowSceneDelegate {
    
    var window: UIWindow?
    
    func scene(_ scene: UIScene, willConnectTo session: UISceneSession, 
               options connectionOptions: UIScene.ConnectionOptions) {
        guard let windowScene = (scene as? UIWindowScene) else { return }
        
        let window = UIWindow(windowScene: windowScene)
        self.window = window
        
        // åˆ›å»ºé…ç½®
        let configuration = AJLaunchScreenConfiguration(style: .balloon)
        
        // æ˜¾ç¤ºå¯åŠ¨å±å¹•
        AJLaunchScreenManager.shared.present(in: window, configuration: configuration)
    }
}
```

**æ•ˆæœï¼š**
- ç´«è‰²æ¸å˜èƒŒæ™¯
- å¯çˆ±çš„æ©™è‰²æ°”çƒåŠ¨ç”»
- é—ªçƒçš„æ˜Ÿæ˜Ÿè£…é¥°
- æ³¢æµªå½¢åº•éƒ¨åŒºåŸŸ
- ä¸­æ–‡åŠŸèƒ½æè¿°

---

### æ¡ˆä¾‹ 2: METRO X é£æ ¼ + è‡ªå®šä¹‰é¢œè‰²

é€‚åˆç§‘æŠ€ç±»ã€ä¸“ä¸šç±»åº”ç”¨ã€‚

```swift
import AJVIPLaunchScreen

class SceneDelegate: UIResponder, UIWindowSceneDelegate, AJLaunchScreenDelegate {
    
    var window: UIWindow?
    
    func scene(_ scene: UIScene, willConnectTo session: UISceneSession, 
               options connectionOptions: UIScene.ConnectionOptions) {
        guard let windowScene = (scene as? UIWindowScene) else { return }
        
        let window = UIWindow(windowScene: windowScene)
        self.window = window
        
        // è‡ªå®šä¹‰ä¸»é¢˜è‰²
        var configuration = AJLaunchScreenConfiguration(
            style: .metroX,
            primaryColor: UIColor(red: 255/255, green: 100/255, blue: 100/255, alpha: 1.0)
        )
        configuration.delegate = self
        
        AJLaunchScreenManager.shared.present(in: window, configuration: configuration)
    }
    
    // MARK: - ä»£ç†æ–¹æ³•
    func launchScreenDidComplete() {
        // ç”¨æˆ·å®Œæˆå¼•å¯¼ï¼Œè¿›å…¥ä¸»åº”ç”¨
        let mainVC = MainViewController()
        window?.rootViewController = mainVC
        window?.makeKeyAndVisible()
    }
}
```

**æ•ˆæœï¼š**
- åŠ¨ç”» Logo é—ªå±
- 3 ä¸ªå¼•å¯¼é¡µé¢
- å¹³æ»‘èƒŒæ™¯è¿‡æ¸¡
- è®¢é˜…é¡µé¢
- è‡ªå®šä¹‰çº¢è‰²ä¸»é¢˜

---

### æ¡ˆä¾‹ 3: å®Œå…¨è‡ªå®šä¹‰å†…å®¹

é€‚åˆéœ€è¦å±•ç¤ºç‰¹å®šåŠŸèƒ½çš„åº”ç”¨ã€‚

```swift
import AJVIPLaunchScreen

class SceneDelegate: UIResponder, UIWindowSceneDelegate, AJLaunchScreenDelegate {
    
    var window: UIWindow?
    
    func scene(_ scene: UIScene, willConnectTo session: UISceneSession, 
               options connectionOptions: UIScene.ConnectionOptions) {
        guard let windowScene = (scene as? UIWindowScene) else { return }
        
        let window = UIWindow(windowScene: windowScene)
        self.window = window
        
        // è‡ªå®šä¹‰å¼•å¯¼å†…å®¹
        let customSlides = [
            AJSlideData(
                title: "æ™ºèƒ½æ¨è",
                description: "åŸºäº AI ç®—æ³•ï¼Œä¸ºæ‚¨æ¨èæœ€é€‚åˆçš„å†…å®¹",
                iconName: "brain.head.profile",
                color: UIColor(red: 255/255, green: 159/255, blue: 64/255, alpha: 1.0)
            ),
            AJSlideData(
                title: "æ•°æ®åŒæ­¥",
                description: "å¤šè®¾å¤‡æ— ç¼åŒæ­¥ï¼Œéšæ—¶éšåœ°è®¿é—®æ‚¨çš„æ•°æ®",
                iconName: "icloud.fill",
                color: UIColor(red: 0/255, green: 242/255, blue: 255/255, alpha: 1.0)
            ),
            AJSlideData(
                title: "éšç§ä¿æŠ¤",
                description: "ç«¯åˆ°ç«¯åŠ å¯†ï¼Œä¿æŠ¤æ‚¨çš„ä¸ªäººéšç§å®‰å…¨",
                iconName: "lock.shield.fill",
                color: UIColor(red: 0/255, green: 255/255, blue: 170/255, alpha: 1.0)
            ),
            AJSlideData(
                title: "å¼€å§‹ä½“éªŒ",
                description: "",
                iconName: "star.fill",
                color: .white
            )
        ]
        
        var configuration = AJLaunchScreenConfiguration(
            style: .metroX,
            showSkipButton: true,
            customSlides: customSlides
        )
        configuration.delegate = self
        
        AJLaunchScreenManager.shared.present(in: window, configuration: configuration)
    }
    
    func launchScreenDidComplete() {
        showMainApp()
    }
    
    func launchScreenDidSkip() {
        showMainApp()
    }
    
    private func showMainApp() {
        let mainVC = MainViewController()
        window?.rootViewController = UINavigationController(rootViewController: mainVC)
        window?.makeKeyAndVisible()
    }
}
```

**æ•ˆæœï¼š**
- è‡ªå®šä¹‰æ ‡é¢˜å’Œæè¿°
- è‡ªå®šä¹‰å›¾æ ‡å’Œé¢œè‰²
- 4 ä¸ªå¼•å¯¼é¡µé¢
- ä¿ç•™è·³è¿‡æŒ‰é’®

---

### æ¡ˆä¾‹ 4: é¦–æ¬¡å¯åŠ¨æ£€æµ‹

åªåœ¨é¦–æ¬¡å¯åŠ¨æ—¶æ˜¾ç¤ºå¼•å¯¼é¡µé¢ã€‚

```swift
import AJVIPLaunchScreen

class SceneDelegate: UIResponder, UIWindowSceneDelegate, AJLaunchScreenDelegate {
    
    var window: UIWindow?
    
    func scene(_ scene: UIScene, willConnectTo session: UISceneSession, 
               options connectionOptions: UIScene.ConnectionOptions) {
        guard let windowScene = (scene as? UIWindowScene) else { return }
        
        let window = UIWindow(windowScene: windowScene)
        self.window = window
        
        if isFirstLaunch() {
            // é¦–æ¬¡å¯åŠ¨æ˜¾ç¤ºå¼•å¯¼
            showOnboarding()
        } else {
            // éé¦–æ¬¡å¯åŠ¨ç›´æ¥è¿›å…¥ä¸»åº”ç”¨
            showMainApp()
        }
    }
    
    private func isFirstLaunch() -> Bool {
        let key = "HasLaunchedBefore"
        let hasLaunched = UserDefaults.standard.bool(forKey: key)
        
        if !hasLaunched {
            UserDefaults.standard.set(true, forKey: key)
            return true
        }
        return false
    }
    
    private func showOnboarding() {
        var configuration = AJLaunchScreenConfiguration(style: .balloon)
        configuration.delegate = self
        
        AJLaunchScreenManager.shared.present(in: window, configuration: configuration)
    }
    
    private func showMainApp() {
        let mainVC = MainViewController()
        window?.rootViewController = mainVC
        window?.makeKeyAndVisible()
    }
    
    // MARK: - Delegate
    func launchScreenDidComplete() {
        UserDefaults.standard.set(true, forKey: "OnboardingCompleted")
        showMainApp()
    }
    
    func launchScreenDidSkip() {
        showMainApp()
    }
}
```

---

### æ¡ˆä¾‹ 5: å¤„ç†è®¢é˜…æµç¨‹

é›†æˆåº”ç”¨å†…è´­ä¹°è®¢é˜…ã€‚

```swift
import AJVIPLaunchScreen
import StoreKit

class SceneDelegate: UIResponder, UIWindowSceneDelegate, AJLaunchScreenDelegate {
    
    var window: UIWindow?
    
    func scene(_ scene: UIScene, willConnectTo session: UISceneSession, 
               options connectionOptions: UIScene.ConnectionOptions) {
        guard let windowScene = (scene as? UIWindowScene) else { return }
        
        let window = UIWindow(windowScene: windowScene)
        self.window = window
        
        var configuration = AJLaunchScreenConfiguration(style: .metroX)
        configuration.delegate = self
        
        AJLaunchScreenManager.shared.present(in: window, configuration: configuration)
    }
    
    func launchScreenDidComplete() {
        showMainApp()
    }
    
    func launchScreenDidSelectSubscription() {
        // ç”¨æˆ·ç‚¹å‡»äº†è®¢é˜…æŒ‰é’®
        handleSubscription()
    }
    
    private func handleSubscription() {
        // å…³é—­å¯åŠ¨å±å¹•
        AJLaunchScreenManager.shared.dismiss(animated: true) {
            // æ˜¾ç¤ºè®¢é˜…é¡µé¢æˆ–è§¦å‘åº”ç”¨å†…è´­ä¹°
            self.presentSubscriptionFlow()
        }
    }
    
    private func presentSubscriptionFlow() {
        // æ–¹å¼ 1: æ˜¾ç¤ºè‡ªå®šä¹‰è®¢é˜…é¡µé¢
        let subscriptionVC = SubscriptionViewController()
        let navController = UINavigationController(rootViewController: subscriptionVC)
        window?.rootViewController = navController
        
        // æ–¹å¼ 2: ç›´æ¥è§¦å‘ StoreKit è´­ä¹°
        // purchaseSubscription()
    }
    
    private func showMainApp() {
        let mainVC = MainViewController()
        window?.rootViewController = mainVC
        window?.makeKeyAndVisible()
    }
}
```

---

### æ¡ˆä¾‹ 6: ä» ViewController ä¸­æ˜¾ç¤º

åœ¨åº”ç”¨è¿è¡Œæ—¶æ˜¾ç¤ºå¼•å¯¼é¡µé¢ï¼ˆä¾‹å¦‚ï¼šè®¾ç½®é¡µé¢çš„"æŸ¥çœ‹å¼•å¯¼"åŠŸèƒ½ï¼‰ã€‚

```swift
import UIKit
import AJVIPLaunchScreen

class SettingsViewController: UIViewController, AJLaunchScreenDelegate {
    
    @IBAction func showOnboardingTapped(_ sender: UIButton) {
        var configuration = AJLaunchScreenConfiguration(style: .metroX)
        configuration.delegate = self
        
        AJLaunchScreenManager.shared.present(
            from: self,
            configuration: configuration,
            animated: true
        )
    }
    
    // MARK: - Delegate
    func launchScreenDidComplete() {
        // ç”¨æˆ·å®ŒæˆæŸ¥çœ‹
        AJLaunchScreenManager.shared.dismiss(animated: true)
    }
    
    func launchScreenDidSkip() {
        // ç”¨æˆ·è·³è¿‡
        AJLaunchScreenManager.shared.dismiss(animated: true)
    }
}
```

---

## ğŸ¨ é£æ ¼å¯¹æ¯”

### Balloon é£æ ¼
**é€‚ç”¨åœºæ™¯ï¼š**
- æ¶ˆè´¹ç±»åº”ç”¨
- ç”Ÿæ´»æ–¹å¼åº”ç”¨
- è®¢é˜…æœåŠ¡
- éœ€è¦äº²å’ŒåŠ›çš„åº”ç”¨

**ç‰¹ç‚¹ï¼š**
- ç´«è‰²æ¸å˜èƒŒæ™¯
- åŠ¨ç”»æ°”çƒ
- é—ªçƒæ˜Ÿæ˜Ÿ
- æ³¢æµªåº•éƒ¨
- ä¸­æ–‡æœ¬åœ°åŒ–

### METRO X é£æ ¼
**é€‚ç”¨åœºæ™¯ï¼š**
- ç§‘æŠ€ç±»åº”ç”¨
- ä¸“ä¸šå·¥å…·
- äº¤é€šå‡ºè¡Œ
- B2B åº”ç”¨

**ç‰¹ç‚¹ï¼š**
- ç§‘æŠ€æ„Ÿè®¾è®¡
- åŠ¨ç”» Logo
- å¤šé¡µå¼•å¯¼
- èƒŒæ™¯è¿‡æ¸¡
- æ¯›ç»ç’ƒæ•ˆæœ

---

## âš™ï¸ é…ç½®é€‰é¡¹è¯¦è§£

```swift
AJLaunchScreenConfiguration(
    style: .balloon,              // é£æ ¼é€‰æ‹©ï¼š.metroX æˆ– .balloon
    showSkipButton: true,         // æ˜¯å¦æ˜¾ç¤ºè·³è¿‡æŒ‰é’®
    animationDuration: 0.5,       // åŠ¨ç”»æ—¶é•¿ï¼ˆç§’ï¼‰
    primaryColor: nil,            // è‡ªå®šä¹‰ä¸»é¢˜è‰²ï¼ˆå¯é€‰ï¼‰
    customSlides: nil,            // è‡ªå®šä¹‰å¼•å¯¼å†…å®¹ï¼ˆå¯é€‰ï¼‰
    delegate: self                // ä»£ç†å¯¹è±¡
)
```

---

## ğŸ“‹ ä»£ç†æ–¹æ³•è¯´æ˜

```swift
protocol AJLaunchScreenDelegate: AnyObject {
    // ç”¨æˆ·å®Œæˆå¼•å¯¼æµç¨‹
    func launchScreenDidComplete()
    
    // ç”¨æˆ·è·³è¿‡å¼•å¯¼ï¼ˆå¯é€‰å®ç°ï¼‰
    func launchScreenDidSkip()
    
    // ç”¨æˆ·é€‰æ‹©è®¢é˜…ï¼ˆå¯é€‰å®ç°ï¼‰
    func launchScreenDidSelectSubscription()
}
```

---

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. é¦–æ¬¡å¯åŠ¨æ£€æµ‹
```swift
private func isFirstLaunch() -> Bool {
    let key = "HasLaunchedBefore"
    let hasLaunched = UserDefaults.standard.bool(forKey: key)
    if !hasLaunched {
        UserDefaults.standard.set(true, forKey: key)
        return true
    }
    return false
}
```

### 2. ç‰ˆæœ¬æ›´æ–°å¼•å¯¼
```swift
private func shouldShowOnboarding() -> Bool {
    let currentVersion = Bundle.main.infoDictionary?["CFBundleShortVersionString"] as? String
    let lastVersion = UserDefaults.standard.string(forKey: "LastLaunchVersion")
    
    if lastVersion != currentVersion {
        UserDefaults.standard.set(currentVersion, forKey: "LastLaunchVersion")
        return true
    }
    return false
}
```

### 3. ä¼˜é›…çš„è¿‡æ¸¡
```swift
func launchScreenDidComplete() {
    AJLaunchScreenManager.shared.dismiss(animated: true) {
        // åœ¨å…³é—­åŠ¨ç”»å®Œæˆåå†æ˜¾ç¤ºä¸»ç•Œé¢
        self.showMainApp()
    }
}
```

---

## ğŸ”§ æ•…éšœæ’é™¤

### é—®é¢˜ 1: èµ„æºæ–‡ä»¶æ‰¾ä¸åˆ°
**è§£å†³æ–¹æ¡ˆï¼š** ç¡®ä¿è¿è¡Œäº† `pod install` å¹¶ä½¿ç”¨ `.xcworkspace` æ‰“å¼€é¡¹ç›®

### é—®é¢˜ 2: ä»£ç†æ–¹æ³•æœªè°ƒç”¨
**è§£å†³æ–¹æ¡ˆï¼š** æ£€æŸ¥æ˜¯å¦è®¾ç½®äº† `configuration.delegate = self` å¹¶å®ç°äº†åè®®

### é—®é¢˜ 3: è‡ªå®šä¹‰é¢œè‰²ä¸ç”Ÿæ•ˆ
**è§£å†³æ–¹æ¡ˆï¼š** ç¡®ä¿ä½¿ç”¨ RGB å€¼åœ¨ 0-255 èŒƒå›´å†…ï¼Œå¹¶é™¤ä»¥ 255.0

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·è®¿é—®ï¼š
- GitHub Issues: https://github.com/ChinaArJun/aj_vip_launch_screen/issues
- ç¤ºä¾‹ä»£ç : `/AJVIPLaunchScreen/Example/`
